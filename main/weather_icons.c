#include "weather_icons.h"

// 24x24 bitmap
// static const uint8_t i_01d[] = {
//     0x00,0x00,0x00,0x00,0x18,0x00,0x00,0x18,0x00,0x18,0x18,0x18,
//     0x38,0x00,0x1c,0x30,0x00,0x0c,0x00,0x7e,0x00,0x00,0x81,0x00,
//     0x80,0x00,0x01,0x40,0x00,0x02,0x40,0x00,0x02,0x4e,0x00,0x72,
//     0x4e,0x00,0x72,0x40,0x00,0x02,0x40,0x00,0x02,0x80,0x00,0x01,
//     0x00,0x81,0x00,0x00,0x7e,0x00,0x30,0x00,0x0c,0x38,0x00,0x1c,
//     0x18,0x18,0x18,0x00,0x18,0x00,0x00,0x18,0x00,0x00,0x00,0x00
// };

static const uint8_t i_01n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0x01, 0xFF, 0x7F, 0x00, 0xFE, 0x3F, 0x00, 0xF8, 0x1F, 0x00, 0xF8,
  0x1F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0,
  0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0,
  0x1F, 0x00, 0xF0, 0x1F, 0x00, 0xF8, 0x3F, 0x00, 0xFC, 0xFF, 0x00, 0xFE,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_02d[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0x0F, 0xF0, 0x7F, 0x00, 0xE0, 0x3F, 0x10, 0xC0,
  0x3F, 0x00, 0xC0, 0x1F, 0x00, 0xC0, 0x07, 0x00, 0xC0, 0x07, 0x00, 0xC0,
  0x03, 0x00, 0xC0, 0x03, 0x00, 0xC0, 0x03, 0x00, 0xC8, 0x03, 0x00, 0xE0,
  0x03, 0x00, 0xE0, 0x07, 0x00, 0xE0, 0x07, 0x00, 0xF0, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_02n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0xF0, 0xFF, 0x3F, 0xF0, 0xFF,
  0x3F, 0xF0, 0xFF, 0x1F, 0xE0, 0xFF, 0x07, 0xC0, 0xFF, 0x07, 0x00, 0xFF,
  0x03, 0x00, 0xFE, 0x03, 0x00, 0xFC, 0x03, 0x00, 0xF8, 0x03, 0x00, 0xE0,
  0x03, 0x00, 0xE0, 0x07, 0x00, 0xE0, 0x07, 0x00, 0xF0, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_03d_n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x80, 0xFF, 0x3F, 0x00, 0xFF,
  0x3F, 0x00, 0xFC, 0x1F, 0x00, 0xF8, 0x07, 0x00, 0xF0, 0x07, 0x00, 0xE0,
  0x07, 0x00, 0xE0, 0x07, 0x00, 0xE0, 0x07, 0x00, 0xE0, 0x07, 0x00, 0xE0,
  0x07, 0x00, 0xE0, 0x0F, 0x00, 0xE0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_04d_n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x3F, 0xF8, 0xFF,
  0x1F, 0xF8, 0xFF, 0x1F, 0xF0, 0xFF, 0x07, 0xE0, 0xFF, 0x03, 0x00, 0xFF,
  0x03, 0x00, 0xFF, 0x03, 0x00, 0xFE, 0x03, 0x00, 0xFC, 0x03, 0x00, 0xF0,
  0x03, 0x00, 0xF0, 0x03, 0x00, 0xF0, 0x07, 0x00, 0xF8, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_09d_n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0x7F, 0xF8, 0xFF, 0x3F, 0xF8, 0xFF, 0x3F, 0xF0, 0xFF,
  0x0F, 0xF0, 0xFF, 0x07, 0x80, 0xFF, 0x07, 0x80, 0xFF, 0x07, 0x00, 0xFF,
  0x07, 0x00, 0xFE, 0x07, 0x00, 0xFC, 0x07, 0x00, 0xF8, 0x8F, 0x3F, 0xFC,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_10d[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0x07, 0xFC, 0x7F, 0x00, 0xF0, 0x7F, 0x00, 0xF0, 0x3F, 0x00, 0xF0,
  0x1F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF4,
  0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF8, 0x0F, 0x02, 0xF8, 0x0F, 0x3F, 0xF8,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_10n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0x7F, 0xF8, 0xFF, 0x3F, 0xF8, 0xFF, 0x3F, 0xF0, 0xFF,
  0x0F, 0xF0, 0xFF, 0x07, 0x80, 0xFF, 0x07, 0x80, 0xFF, 0x07, 0x00, 0xFF,
  0x07, 0x00, 0xFE, 0x07, 0x00, 0xFC, 0x07, 0x00, 0xF8, 0x8F, 0x3F, 0xFC,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_11d_n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0x3F, 0xF8, 0xFF, 0x1F, 0xF8, 0xFF, 0x1F, 0xF0, 0xFF,
  0x0F, 0xF0, 0xFF, 0x03, 0x80, 0xFF, 0x03, 0x80, 0xFF, 0x03, 0x00, 0xFE,
  0x03, 0x00, 0xFC, 0x03, 0x00, 0xF8, 0x03, 0x00, 0xF8, 0x03, 0x00, 0xF0,
  0x87, 0x00, 0xF8, 0x3F, 0xF0, 0xFF, 0x3F, 0xF8, 0xFF, 0x3F, 0xF8, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_13d_n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xC3, 0xFF, 0xFF, 0x00, 0xFF, 0x3F, 0x00, 0xFC,
  0x3F, 0x00, 0xFC, 0x3F, 0x00, 0xFC, 0x3F, 0x00, 0xFC, 0x3F, 0x00, 0xFC,
  0x3F, 0x00, 0xFC, 0x3F, 0x00, 0xFC, 0x3F, 0x00, 0xFC, 0x3F, 0x00, 0xFC,
  0x3F, 0x00, 0xFC, 0x7F, 0x00, 0xFE, 0xFF, 0xC3, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t i_50d_n[] = {
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x00, 0xFF, 0x7F, 0x00, 0xFF,
  0x0F, 0x00, 0xFF, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0,
  0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF0, 0x0F, 0x00, 0xF8, 0x3F, 0x00, 0xF8,
  0x3F, 0x00, 0xF8, 0x7F, 0x00, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

static const uint8_t temp[] = {
    0x00,0x00,0x00,0xc0,0x01,0x00,0x30,0x01,0x00,0x88,0x00,0x00,
 0x88,0x00,0x00,0xc4,0x00,0x00,0x42,0x00,0x00,0x42,0x00,0x00,
 0x23,0x00,0x00,0x21,0x00,0x00,0x61,0x00,0x00,0x41,0x00,0x00,
 0xc1,0x00,0x00,0x83,0x01,0x20,0x02,0x03,0x50,0x06,0x1e,0x48,
 0x04,0xf0,0x27,0x0c,0x00,0x20,0x18,0x00,0x18,0x30,0x00,0x0e,
 0xe0,0x81,0x03,0x80,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

static const WeatherIcon icons[] = {
    {"01d", temp, 24, 24},
    {"01n", i_01n, 24, 24},
    {"02d", i_02d, 24, 24},
    {"02n", i_02n, 24, 24},
    {"03d", i_03d_n, 24, 24},
    {"03n", i_03d_n, 24, 24},
    {"04d", i_04d_n, 24, 24},
    {"04n", i_04d_n, 24, 24},
    {"09d", i_09d_n, 24, 24},
    {"09n", i_09d_n, 24, 24},
    {"10d", i_10d, 24, 24},
    {"10n", i_10n, 24, 24},
    {"11d", i_11d_n, 24, 24},
    {"11n", i_11d_n, 24, 24},
    {"13d", i_13d_n, 24, 24},
    {"13n", i_13d_n, 24, 24},
    {"50d", i_50d_n, 24, 24},
    {"50n", i_50d_n, 24, 24}
};

// Pass in 09d for exemple and returns the correct WeatherIcon pointer, returns NULL if none found
const WeatherIcon* weather_bitmap_from_code(const char* code) {
    if (!code) return NULL;
    for (size_t i = 0; i < sizeof(icons)/sizeof(icons[0]); ++i) {
        if (strcmp(icons[i].code, code) == 0) return &icons[0];
    }
    return NULL;
}